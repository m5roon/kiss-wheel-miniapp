html, body {
  height: 100%;
  margin: 0;
  background: #111;
  font-family: system-ui, -apple-system, Segoe UI, Arial;
}

body {
  display: grid;
  place-items: center;
}

.stage {
  position: relative;
  width: min(420px, 100vw);
  aspect-ratio: 1365 / 2048;
  overflow: hidden;
}

/* ФОН (не центрируем, иначе "едет") */
.layer {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  left: 0 !important;
  top: 0 !important;
  transform: none !important;
  z-index: 1;
  pointer-events: none;
}

/* Центрируемые слои */
.bg-heart,
.wheel-frame,
.wheel-disk,
.center-cap,
.pointer,
.stand,
.btn-img {
  position: absolute;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  pointer-events: none; /* чтобы не перекрывали клики */
}

/* кликабельная область */
.hit {
  position: absolute;
  left: 50%;
  top: 87%;
  width: 78%;
  height: 11%;
  transform: translate(-50%, -50%);
  background: transparent;
  border: 0;
  cursor: pointer;
  z-index: 10;
}

/* === АНИМАЦИЯ КНОПКИ (вернул) === */
.btn-img {
  top: 87%;
  width: 78%;
  transition: transform .16s cubic-bezier(.2,.9,.2,1), filter .16s;
}

/* Важно: btn-img должен идти ПОСЛЕ .hit в HTML — у тебя так и есть */
.hit:hover ~ .btn-img {
  filter: brightness(1.06);
  transform: translate(-50%, -52%) scale(1.01);
}
.hit:active ~ .btn-img {
  filter: brightness(.96);
  transform: translate(-50%, -48%) scale(.985);
}
.hit:disabled ~ .btn-img {
  filter: grayscale(.3) brightness(.9);
}

/* текст сверху */
.top-hint { z-index: 20; }

/* сердечки */
@keyframes heartBeat {
  0% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.12); }
  100% { transform: translate(-50%, -50%) scale(1); }
}
.bg-heart { animation: heartBeat 2.6s infinite; }

.bg-heart.h1 { left: 8%;  top: 12%; width: 6%; }
.bg-heart.h2 { left: 92%; top: 12%; width: 5%; animation-delay: .4s; }
.bg-heart.h3 { left: 6%;  top: 80%; width: 6%; animation-delay: .8s; }
.bg-heart.h4 { left: 94%; top: 72%; width: 4.5%; animation-delay: 1.2s; }
.bg-heart.h5 { left: 86%; top: 40%; width: 4%; animation-delay: 1.6s; }

/* колесо */
.wheel-frame { top: 52%; width: 86%; }
.wheel-disk  { top: 52%; width: 70%; }
.center-cap  { top: 52%; width: 26%; }
.pointer     { top: 24%; width: 22%; }
.stand       { top: 77%; width: 86%; }

/* верхний баннер (не вылезает) */
.top-hint {
  position: absolute;
  top: 4%;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  text-align: center;
  pointer-events: none;

  padding: 0 18px;
  box-sizing: border-box;
  overflow: hidden;
}

.top-hint__line1,
.top-hint__line2 {
  display: inline-block;
  max-width: 100%;
  white-space: normal;
  overflow-wrap: anywhere;
}

.top-hint__line1 {
  font-size: 30px;
  font-weight: 900;
  color: #fff;
  line-height: 1.05;

  text-shadow:
    0 3px 0 rgba(255, 120, 180, 0.95),
    0 8px 18px rgba(0,0,0,.35);

  animation: bannerPulse 2.6s ease-in-out infinite;
}

.top-hint__line2 {
  margin-top: 6px;
  font-size: 22px;
  font-weight: 800;
  color: #fff;
  line-height: 1.1;

  text-shadow:
    0 2px 0 rgba(255, 140, 200, 0.9),
    0 6px 14px rgba(0,0,0,.25);

  animation: bannerPulse 2.6s ease-in-out infinite;
  animation-delay: .12s;
}

@keyframes bannerPulse {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.025); }
  100% { transform: scale(1); }
}

/* MODAL */
.no-scroll { overflow: hidden; }

.modal {
  position: fixed;
  inset: 0;
  display: none;
  z-index: 9999;
  pointer-events: none; /* закрытая не блокирует клики */
}
.modal.is-open {
  display: block;
  pointer-events: auto;
}

.modal__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(4px);
}

.modal__card {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(340px, calc(100% - 32px));
  padding: 18px;
  border-radius: 18px;
  background: rgba(255,255,255,.95);
  box-shadow: 0 16px 40px rgba(0,0,0,.25);
  text-align: center;
}

.modal__close {
  position: absolute;
  right: 10px;
  top: 10px;
  border: 0;
  background: none;
  font-size: 24px;
  cursor: pointer;
}

.modal__title {
  font-weight: 700;
  margin-bottom: 8px;
}

.modal__value {
  font-size: 16px;
  line-height: 1.4;
}

.modal__number {
  font-weight: 800;
  font-size: 22px;
  padding: 2px 10px;
  border-radius: 12px;
  background: rgba(255,200,0,.35);
}

.modal__btn {
  margin-top: 12px;
  width: 100%;
  height: 42px;
  border: 0;
  border-radius: 14px;
  font-weight: 700;
  background: rgba(255,200,0,.9);
  cursor: pointer;
}
